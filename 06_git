
if [[ -x `which git` ]]; then
	function git-branch-name () {
		git branch 2> /dev/null | grep ^\* | sed s/^\*\ //
	}
	function git-dirty () {
		git status | grep "nothing to commit (working directory clean)"
		echo $?
	}
	function gsrb () {
		branch=$(git-branch-name) 
		git checkout master
		git svn rebase
		git checkout "${branch}"
		git rebase master
	}
	function git-prompt() {
		branch=$(git-branch-name)
		if [[ x$branch != x ]]; then
			dirty_color=$fg[magenta]
			if [[ $(git-dirty) = 1 ]] { dirty_color=$fg[red] }
			[ x$branch != x ] && echo " %{$dirty_color%}$(git-branch-name)%{$reset_color%} "
		fi
	}
	function git-scoreboard () {
		git log | grep Author | sort | uniq -ci | sort -r
	}
	
fi


alias gst='git status'
alias gl='git pull'
alias gp='git push'
alias gd='git diff'
alias gc='git commit -v'
alias gca='git commit -v -a'
alias gb='git branch'
alias gba='git branch -a'
alias grmut='git ls-files -o --exclude-from=.gitignore | xargs rm'
alias gits="ls /opt/local/bin/ | grep git"


